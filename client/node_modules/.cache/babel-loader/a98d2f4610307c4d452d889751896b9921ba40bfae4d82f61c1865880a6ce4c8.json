{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yudhi\\\\Desktop\\\\PROGRAMMING\\\\PROJECT\\\\IMAGE_GENERATOR\\\\client\\\\src\\\\components\\\\GenerateImageForm.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useNavigation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Button from \"./button\";\nimport { GenerateAIImage } from \"../api\";\nimport { CreatePost } from \"../api\";\nimport { AutoAwesome, CreateRounded } from '@mui/icons-material';\nimport SearchBar from './TextInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst From = styled.div`\n    flex:1;\n    padding: 16px 20px;\n    display:flex;\n    flex-direction:column;\n    gap: 9%;\n    justify-content:center;\n    `;\n_c = From;\nconst Top = styled.div`flex:1;\n    flex-direction: column;\n    gap: 6px;`;\n_c2 = Top;\nconst Title = styled.div`\n    font-size: 28px;\n    font-weight:500;\n    color: ${({\n  theme\n}) => theme.text_primary};`;\n_c3 = Title;\nconst Desc = styled.div`font-size: 17px;\n    font-weight:400;\n    color: ${({\n  theme\n}) => theme.text_secondary}`;\n_c4 = Desc;\nconst Body = styled.div`\n    display: flex;\n    flex-direction: column;\n    gap: 18px;\n    font-size:12px;\n    font-weight:400;\n    color:${({\n  theme\n}) => theme.text_secondary};\n    `;\n_c5 = Body;\nconst Actions = styled.div`\n    flex: 1;\n    display: flex;\n    gap:8px;\n    `;\n_c6 = Actions;\nconst GenerateImageForm = ({\n  post,\n  setPost,\n  createPostLoading,\n  generateImageLoading,\n  setGenerateImageLoading,\n  setcreatePostLoading\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const generateImageFun = async () => {\n    if (!post.prompt || post.prompt.trim() === \"\") {\n      alert(\"Prompt cannot be empty. Please provide a valid input.\");\n      return;\n    }\n    try {\n      setGenerateImageLoading(true); // Start loading\n\n      const response = await GenerateAIImage({\n        prompt: post.prompt\n      });\n      setPost(prevPost => ({\n        ...prevPost,\n        photo: response.data.photo\n      })); // Update only the photo part of the post\n    } catch (error) {\n      var _error$response;\n      console.error(\"Error generating image:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert(\"Failed to generate image. Please try again.\");\n    } finally {\n      setGenerateImageLoading(false); // Stop loading\n    }\n  };\n  const createPostFun = async () => {\n    try {\n      setcreatePostLoading(true);\n      const response = await CreatePost({\n        post\n      });\n      if (response.status === 200 || response.status === 201) {\n        navigate(\"/\"); // Redirect to home page\n      } else {\n        alert(\"Failed to create the post. Please try again.\");\n      }\n    } catch (error) {\n      var _error$response2;\n      console.error(\"Error generating image:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n      alert(\"Failed to generate image. Please try again.\");\n    } finally {\n      setcreatePostLoading(false); // Stop loading\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(From, {\n    children: [/*#__PURE__*/_jsxDEV(Top, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Generate Image with prompt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Desc, {\n        children: \"Write your promt according to the image you want \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Body, {\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        label: \"AUTHOR\",\n        placeholder: \"Enter your name...\",\n        value: post.name,\n        handleChange: e => setPost({\n          ...post,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n        label: \"IMAGE PROMPT\",\n        name: \"yudhi\",\n        rows: \"8\",\n        value: post.prompt,\n        handleChange: e => setPost({\n          ...post,\n          prompt: e.target.value\n        }),\n        placeholder: \"Write a detailed prompt about the image...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this), \"** You can post the AI Generated Image to the Community **\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Actions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        text: \"Generate Image\",\n        flex: true,\n        leftIcon: /*#__PURE__*/_jsxDEV(AutoAwesome, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 58\n        }, this),\n        isLoading: generateImageLoading,\n        isdisabled: post.prompt === \"\",\n        onClick: () => generateImageFun()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        text: \"Post Image\",\n        flex: true,\n        type: \"secondary\",\n        leftIcon: /*#__PURE__*/_jsxDEV(CreateRounded, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 67\n        }, this),\n        isLoading: createPostLoading,\n        isdisabled: post.name === \"\" || post.prompt === \"\" || post.photo === \"\",\n        onClick: () => createPostFun()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(GenerateImageForm, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", true);\n_c7 = GenerateImageForm;\nexport default GenerateImageForm;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"From\");\n$RefreshReg$(_c2, \"Top\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Desc\");\n$RefreshReg$(_c5, \"Body\");\n$RefreshReg$(_c6, \"Actions\");\n$RefreshReg$(_c7, \"GenerateImageForm\");","map":{"version":3,"names":["React","useNavigation","styled","Button","GenerateAIImage","CreatePost","AutoAwesome","CreateRounded","SearchBar","jsxDEV","_jsxDEV","From","div","_c","Top","_c2","Title","theme","text_primary","_c3","Desc","text_secondary","_c4","Body","_c5","Actions","_c6","GenerateImageForm","post","setPost","createPostLoading","generateImageLoading","setGenerateImageLoading","setcreatePostLoading","_s","navigate","useNavigate","generateImageFun","prompt","trim","alert","response","prevPost","photo","data","error","_error$response","console","message","createPostFun","status","_error$response2","children","fileName","_jsxFileName","lineNumber","columnNumber","label","placeholder","value","name","handleChange","e","target","rows","text","flex","leftIcon","isLoading","isdisabled","onClick","type","_c7","$RefreshReg$"],"sources":["C:/Users/yudhi/Desktop/PROGRAMMING/PROJECT/IMAGE_GENERATOR/client/src/components/GenerateImageForm.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useNavigation } from \"react-router-dom\";\r\nimport styled from \"styled-components\"\r\nimport Button from \"./button\"\r\nimport { GenerateAIImage } from \"../api\";\r\nimport { CreatePost } from \"../api\";\r\nimport { AutoAwesome, CreateRounded } from '@mui/icons-material';\r\nimport SearchBar from './TextInput';\r\nconst From= styled.div`\r\n    flex:1;\r\n    padding: 16px 20px;\r\n    display:flex;\r\n    flex-direction:column;\r\n    gap: 9%;\r\n    justify-content:center;\r\n    `;\r\nconst Top= styled.div`flex:1;\r\n    flex-direction: column;\r\n    gap: 6px;`;\r\nconst Title= styled.div`\r\n    font-size: 28px;\r\n    font-weight:500;\r\n    color: ${({theme})=> theme.text_primary};`;\r\nconst Desc= styled.div`font-size: 17px;\r\n    font-weight:400;\r\n    color: ${({theme})=> theme.text_secondary}`;  \r\nconst Body= styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 18px;\r\n    font-size:12px;\r\n    font-weight:400;\r\n    color:${({theme})=> theme.text_secondary};\r\n    `;\r\nconst Actions= styled.div`\r\n    flex: 1;\r\n    display: flex;\r\n    gap:8px;\r\n    `;\r\n\r\nconst GenerateImageForm = ({\r\n    post, \r\n    setPost,\r\n    createPostLoading, generateImageLoading,\r\n    setGenerateImageLoading,\r\n    setcreatePostLoading,\r\n}) => {\r\n    const navigate= useNavigate()\r\n    const generateImageFun = async () => {\r\n        if (!post.prompt || post.prompt.trim() === \"\") {\r\n            alert(\"Prompt cannot be empty. Please provide a valid input.\");\r\n            return;\r\n        }\r\n        try {\r\n            setGenerateImageLoading(true); // Start loading\r\n    \r\n            const response = await GenerateAIImage({ prompt: post.prompt });\r\n    \r\n            setPost((prevPost) => ({\r\n                ...prevPost,\r\n                photo: response.data.photo,\r\n            })); // Update only the photo part of the post\r\n        } catch (error) {\r\n            console.error(\"Error generating image:\", error.response?.data || error.message);\r\n            alert(\"Failed to generate image. Please try again.\");\r\n        } finally {\r\n            setGenerateImageLoading(false); // Stop loading\r\n        }\r\n    };\r\n    \r\n    const createPostFun= async () =>\r\n        {\r\n        try{   \r\n        setcreatePostLoading(true);\r\n        const response = await CreatePost({ post })\r\n        if (response.status === 200 || response.status === 201) {\r\n            navigate(\"/\"); // Redirect to home page\r\n        } else {\r\n            alert(\"Failed to create the post. Please try again.\");\r\n        }\r\n    \r\n    } catch (error) {\r\n        console.error(\"Error generating image:\", error.response?.data || error.message);\r\n        alert(\"Failed to generate image. Please try again.\");\r\n    } finally {\r\n        setcreatePostLoading(false); // Stop loading\r\n    }\r\n    }\r\n  return (\r\n    <From>\r\n        <Top>\r\n            <Title>Generate Image with prompt</Title>\r\n                \r\n            <Desc>Write your promt according to the image you want </Desc>\r\n        </Top>\r\n        <Body>\r\n            <SearchBar label=\"AUTHOR\" \r\n            \r\n            \r\n            placeholder=\"Enter your name...\"\r\n            value={post.name}\r\n            handleChange={(e)=>setPost({...post,name: e.target.value})}\r\n            />\r\n            <SearchBar label=\"IMAGE PROMPT\" \r\n            name=\"yudhi\"\r\n            rows='8'\r\n            value={post.prompt}\r\n            handleChange={(e)=>setPost({...post,prompt: e.target.value})}\r\n            placeholder=\"Write a detailed prompt about the image...\"/>\r\n            \r\n            ** You can post the AI Generated Image to the Community **\r\n        </Body>\r\n        <Actions>\r\n            <Button text=\"Generate Image\" flex leftIcon={<AutoAwesome></AutoAwesome>}\r\n            isLoading={generateImageLoading}\r\n            isdisabled={post.prompt===\"\" }\r\n            onClick={()=>generateImageFun()}\r\n            />\r\n        \r\n        <Button text=\"Post Image\" flex type=\"secondary\" leftIcon={<CreateRounded/>}\r\n        isLoading={createPostLoading}\r\n        isdisabled={post.name===\"\"|| post.prompt===\"\"|| post.photo===\"\"}\r\n        onClick={()=>createPostFun()}/></Actions>\r\n    </From>\r\n  )\r\n}\r\n\r\nexport default GenerateImageForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}