{"ast":null,"code":"import React,{useEffect,useState}from'react';import styled from\"styled-components\";import ImageCard from'../components/imageCard';import SearchBar from'../components/SearchBar';import{CircularProgress}from'@mui/material';import{GetPosts}from'../api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div`\n  height:100%;\n  overflow-y:scroll;\n  backgroung:${_ref=>{let{theme}=_ref;return theme.bg;}};\n  padding:30px 30px;\n  padding-bottom:50px;\n  display:flex;\n  flex-direction:column;\n  align-items:center;\n  gap:20px;\n  @media (max-width:768px){\n  padding: 6px 10px;};\n\n  `;const Headline=styled.div`\n    font-size:34px;\n    font-weight:500;\n    color:${_ref2=>{let{theme}=_ref2;return theme.text_primary;}};\n    display:flex;\n    align-items: center;\n    flex-direction: column;\n    @media(max-width:768px){\n    font-size:22px;};`;const Span=styled.div`\n    font-size:30px;\n    font-weight:500;\n    color:${_ref3=>{let{theme}=_ref3;return theme.button;}};\n    @media(max-width:768px){\n    font-size:20px};`;const Wrapper=styled.div`\n    width:100%;\n    max-width:1400px;\n    padding:32px 0px;\n    display: flex;\n    justify-content:center;\n  `;const CardWrapper=styled.div`\n    display:grid;\n    gap:20px;\n    @media(min-width:1400px){\n      grid-template-columns:repeat(4,1fr);\n      };\n    @media (min-width:640px) and   (max-width:1399px) {\n      grid-template-columns:repeat(3, 1fr);\n      };\n    @media (max-width:639px) {\n      grid-template-columns: repeat(2, 1fr);\n      };\n      `;const Home=()=>{const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[search,setSearch]=useState(\"\");const[filteredPosts,setFilteredPosts]=useState([]);const getPosts=async()=>{try{var _res$data,_res$data2;setLoading(true);const res=await GetPosts();setPosts((res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.data)||[]);setFilteredPosts((res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.data)||[]);}catch(error){var _error$response,_error$response$data;setError((error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"Failed to load posts. Please try again.\");}finally{setLoading(false);}};useEffect(()=>{getPosts();},[]);useEffect(()=>{if(!search.trim()){setFilteredPosts(posts);return;}const searchFilteredPosts=posts.filter(post=>{var _post$prompt,_post$name;const promptMatch=post===null||post===void 0?void 0:(_post$prompt=post.prompt)===null||_post$prompt===void 0?void 0:_post$prompt.toLowerCase().includes(search.toLowerCase());const authorMatch=post===null||post===void 0?void 0:(_post$name=post.name)===null||_post$name===void 0?void 0:_post$name.toLowerCase().includes(search.toLowerCase());return promptMatch||authorMatch;});setFilteredPosts(searchFilteredPosts);},[posts,search]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Headline,{children:[\"Explore popular posts in the Community!\",/*#__PURE__*/_jsx(Span,{children:\"\\u2609 Generated with AI \\u2609\"})]}),/*#__PURE__*/_jsx(SearchBar,{search:search,setSearch:setSearch}),/*#__PURE__*/_jsxs(Wrapper,{children:[error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:error}),loading?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsx(CardWrapper,{children:filteredPosts.length===0?/*#__PURE__*/_jsx(_Fragment,{children:\"No Posts Found\"}):filteredPosts.slice().reverse().map((item,index)=>/*#__PURE__*/_jsx(ImageCard,{item:item},index))})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","styled","ImageCard","SearchBar","CircularProgress","GetPosts","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_ref","theme","bg","Headline","_ref2","text_primary","Span","_ref3","button","Wrapper","CardWrapper","Home","posts","setPosts","loading","setLoading","error","setError","search","setSearch","filteredPosts","setFilteredPosts","getPosts","_res$data","_res$data2","res","data","_error$response","_error$response$data","response","message","trim","searchFilteredPosts","filter","post","_post$prompt","_post$name","promptMatch","prompt","toLowerCase","includes","authorMatch","name","children","style","color","length","slice","reverse","map","item","index"],"sources":["C:/Users/yudhi/Desktop/PROGRAMMING/PROJECT/IMAGE_GENERATOR/client/src/pages/Home.jsx"],"sourcesContent":["import React,{ useEffect, useState } from 'react';\r\nimport styled from \"styled-components\";\r\nimport ImageCard from '../components/imageCard';\r\nimport SearchBar from '../components/SearchBar';\r\nimport { CircularProgress } from '@mui/material';\r\nimport { GetPosts } from '../api';\r\nconst Container = styled.div`\r\n  height:100%;\r\n  overflow-y:scroll;\r\n  backgroung:${({theme})=>theme.bg};\r\n  padding:30px 30px;\r\n  padding-bottom:50px;\r\n  display:flex;\r\n  flex-direction:column;\r\n  align-items:center;\r\n  gap:20px;\r\n  @media (max-width:768px){\r\n  padding: 6px 10px;};\r\n\r\n  `;\r\n  const Headline = styled.div`\r\n    font-size:34px;\r\n    font-weight:500;\r\n    color:${({theme})=> theme.text_primary};\r\n    display:flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    @media(max-width:768px){\r\n    font-size:22px;};`;\r\n  const Span = styled.div`\r\n    font-size:30px;\r\n    font-weight:500;\r\n    color:${({theme})=> theme.button};\r\n    @media(max-width:768px){\r\n    font-size:20px};`;\r\n\r\n  const Wrapper = styled.div`\r\n    width:100%;\r\n    max-width:1400px;\r\n    padding:32px 0px;\r\n    display: flex;\r\n    justify-content:center;\r\n  `;\r\n\r\n  const CardWrapper= styled.div`\r\n    display:grid;\r\n    gap:20px;\r\n    @media(min-width:1400px){\r\n      grid-template-columns:repeat(4,1fr);\r\n      };\r\n    @media (min-width:640px) and   (max-width:1399px) {\r\n      grid-template-columns:repeat(3, 1fr);\r\n      };\r\n    @media (max-width:639px) {\r\n      grid-template-columns: repeat(2, 1fr);\r\n      };\r\n      `;\r\n\r\nconst Home = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [filteredPosts, setFilteredPosts] = useState([]);\r\n\r\n\r\n\r\n  const getPosts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await GetPosts();\r\n      setPosts(res?.data?.data || []);\r\n      setFilteredPosts(res?.data?.data || []);\r\n    } catch (error) {\r\n      setError(error?.response?.data?.message || \"Failed to load posts. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!search.trim()) {\r\n      setFilteredPosts(posts);\r\n      return;\r\n    }\r\n\r\n    const searchFilteredPosts = posts.filter((post) => {\r\n      const promptMatch = post?.prompt?.toLowerCase().includes(search.toLowerCase());\r\n      const authorMatch = post?.name?.toLowerCase().includes(search.toLowerCase());\r\n      return promptMatch || authorMatch;\r\n    });\r\n\r\n    setFilteredPosts(searchFilteredPosts);\r\n  }, [posts, search]);\r\n\r\n  return (\r\n    <Container>\r\n      <Headline>\r\n        Explore popular posts in the Community!\r\n        <Span>☉ Generated with AI ☉</Span>\r\n      </Headline>\r\n      <SearchBar search={search} setSearch={setSearch} />\r\n      <Wrapper>\r\n        {error && <div style={{ color: \"red\" }}>{error}</div>}\r\n        {loading ? (\r\n          <CircularProgress />\r\n        ) : (\r\n          <CardWrapper>\r\n            {filteredPosts.length === 0 ? (\r\n              <>No Posts Found</>\r\n            ) : (\r\n              filteredPosts\r\n                .slice()\r\n                .reverse()\r\n                .map((item, index) => (\r\n                  <ImageCard key={index} item={item} />\r\n                ))\r\n            )}\r\n          </CardWrapper>\r\n        )}\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Home"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}